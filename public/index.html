<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LII Simposium Nacional de Alumbrado</title>

    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({ appId: "46e0be44-a374-472e-b2d9-402011861aaa" });
      });
    </script>

    <style>
      #muro-avisos {
        display: none; /* Se oculta si no hay mensaje */
        background: #fdf2f2; /* Color suave */
        color: #9b1c1c;
        padding: 15px;
        border-bottom: 2px solid #f05252;
        text-align: center;
        font-family: sans-serif;
        font-weight: bold;
        position: sticky;
        top: 0;
        z-index: 999;
      }
    </style>
</head>
<body class="antialiased bg-white">
    <div id="muro-avisos">
      ðŸ“¢ <span id="texto-aviso">Cargando avisos importantes...</span>
    </div>

    <div id="root"></div>

    <script>
      async function actualizarAviso() {
        try {
          // Sustituye esta URL por la tuya de Google Sheets luego
          const response = await fetch('TU_URL_DE_APPS_SCRIPT');
          const data = await response.json();
          if (data.mensaje && data.mensaje.trim() !== "") {
            document.getElementById('texto-aviso').innerText = data.mensaje;
            document.getElementById('muro-avisos').style.display = 'block';
          } else {
            document.getElementById('muro-avisos').style.display = 'none';
          }
        } catch (e) { console.log("Sin avisos"); }
      }
      actualizarAviso();
      // Se actualiza cada 30 segundos automÃ¡ticamente
      setInterval(actualizarAviso, 30000);
    </script>
</body>
</html>